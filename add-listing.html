<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Listing</title>

    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>

<header class="header">
    <h2>Add Listing</h2>
    <button onclick="logout()" class="dashboard-btn">Logout</button>
</header>

<main>
    <form id="addForm" class="form-container">
        <label>Title</label>
        <input id="title" required>

        <label>Type</label>
        <select id="type" required>
            <option value="resort">Resort</option>
            <option value="apartment">Apartment</option>
            <option value="vacation">Vacation Home</option>
        </select>

        <label>Location</label>
        <input id="location" required>

        <label>Description</label>
        <textarea id="description" required></textarea>

        <label>Images</label>
        <input id="images" type="file" accept="image/*" multiple required>

        <button class="add-btn" type="submit">Add Listing</button>
    </form>
</main>

<script type="module">
import { supabase } from "./js/config.js";
import { requireManager } from "./js/protect.js";

await requireManager();

window.logout = async () => {
    await supabase.auth.signOut();
    window.location.href = "login.html";
};

</script>

<script type="module" src="./js/add-listing.js"></script>

</body>
</html>
